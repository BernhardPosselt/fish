/*! homepage 2014-01-17 */
!function(a,b,c){var d=c.module("ListenToTheFish",["ngAnimate","ngRoute"]);d.config(["$interpolateProvider","$routeProvider","$provide",function(a,b,c){a.startSymbol("[["),a.endSymbol("]]");var d="/",e=d+"api/1.0/",f=d+"static/homepage/partials/";b.when("/",{controller:"EventController",templateUrl:f+"events.html",activeTab:"events",resolve:{events:["$http","$q",function(a,b){var c=b.defer();return a.get(e+"events/?format=json").success(function(a){c.resolve(a)}).error(function(){c.reject()}),c.promise}]}}).when("/about",{templateUrl:f+"about.html",activeTab:"about"}).otherwise({redirectTo:"/"}),c.constant("baseUrl",d)}]),d.run(["$rootScope","$route",function(a,b){a.$route=b,a.isRouteLoading=!1,a.$on("$routeChangeStart",function(){a.isRouteLoading=!0}),a.$on("$routeChangeError",function(){a.isRouteLoading=!1}),a.$on("$routeChangeSuccess",function(){a.isRouteLoading=!1})}]);d.controller("EventController",["$scope","events",function(a,b){a.events=b,a.events.length>0&&(a.activeEvent=a.events[0]),a.setActiveEvent=function(b){a.activeEvent=b}}])}(window,jQuery,angular);